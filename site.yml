---

- hosts: all
  become: true
  pre_tasks:

# name, status and update_cache ar all options for  apt
  - name: install updates
    tags: always
    apt:
      upgrade: safe
      update_cache: yes
    when: ansible_distribution in ["Debian", "Ubuntu"]

  - name: copy default html file
    tags: apache
    copy:
      src: default_site.html
      dest: /home/pi/index.html
      owner: root
      group: root
      mode: 0644

# install packages
- hosts: desktop
  become: true
  tasks:

  - name: install package
    tags: debian, ubuntu, git, unzip
    package:
      name:
        - git
        - unzip
      state: latest
    when: ansible_distribution in ["Debian", "Ubuntu"]



